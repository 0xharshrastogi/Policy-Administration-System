<section class="container-fluid">
  <section class="container mt-4">
    <div class="row">
      <div class="col">
        <form
          class="form card col-sm-6 mx-auto p-4"
          [formGroup]="policyCreateForm"
        >
          <h5 class="card-title text-center">Create Policy</h5>
          <!-- <div class="mt-3">
            <label for="name" class="form-label">Name</label>
            <input
              type="text"
              name="name"
              id="name"
              placeholder="LIC Jevan Bima Yojna"
              class="form-control"
            />
          </div> -->

          <div class="mt-3">
            <label for="name" class="form-label">Customer</label>
            <select
              name
              aria-label="Default select example"
              class="form-select"
              (change)="onCustomerIdChange($event)"
              formControlName="customerId"
            >
              <option selected>Open To Select Customer</option>
              <option
                *ngFor="let consumer of consumers"
                value="{{ consumer.customerID }}"
              >
                {{ consumer.customerName }}
              </option>
            </select>
          </div>

          <!-- If consumer has any business -->
          <div *ngIf="!business.isLoading && business.found">
            <div class="mt-3">
              <h5>Business Details</h5>

              <div class="border rounded p-2">
                <p>
                  <strong>Business ID</strong>:
                  {{ business.value.businessID }}
                </p>
                <p>
                  <strong>Business Name</strong>:
                  {{ business.value.businessName }}
                </p>
                <p>
                  <strong>Business Value</strong>:
                  {{ business.value.businessValue }}
                </p>
                <p>
                  <strong>Annual Turnover</strong>:
                  {{ business.value.annualTurnover }}
                </p>

                <p>
                  <strong>Total Employees</strong>:
                  {{ business.value.totalEmployees }}
                </p>
              </div>
            </div>
          </div>

          <div *ngIf="business._isFetchedAtLeastOnce && !business.found">
            <p class="mb-0"><strong>Dear, Consumer</strong></p>
            <p>You don't have any business to create business</p>
            <a class="btn btn-primary" [routerLink]="getBusinessCreateUrl()">
              Create Business
            </a>
          </div>

          <div class="d-flex justify-content-end mt-3">
            <button
              class="btn btn-primary"
              [disabled]="policyCreateForm.touched && !business.found"
            >
              Create
            </button>
          </div>
        </form>
      </div>
    </div>
  </section>
</section>
